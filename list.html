<!-- æ–‡ä»¶åï¼šlist.html -->
<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸŠç ‚ç³–æ©˜ä¸‡äº‹å±‹ğŸŠè®ºå›- å¹¿åœº</title>
<script src="config.js"></script>
<style>
    /* === å…¨å±€ï¼šåŒæ­¥åœ†ç‚¹çº¹ç†èƒŒæ™¯ === */
    body { 
        margin: 0; 
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Microsoft YaHei", sans-serif; 
        background-color: #fdf6ec;
        background-image: radial-gradient(#e6d6bf 2px, transparent 2px);
        background-size: 20px 20px;
    }

    /* === ä¸»å®¹å™¨ï¼šåŒæ­¥è¶…å¤§åœ†è§’ === */
    .phone { 
        max-width: 420px; 
        margin: 20px auto; 
        background: #fefaf6; 
        /* åœ†æ¶¦é¦™çš‚é€ å‹ */
        border-radius: 24px; 
        box-shadow: 
            0 0 0 2px #e6d6bf, 
            0 10px 20px rgba(197, 143, 92, 0.2); 
        overflow: hidden; 
        min-height: 90vh; 
        display: flex; 
        flex-direction: column; 
    }

    /* === é¡¶éƒ¨æ  === */
    .topbar { 
        background: #c58f5c; 
        color: white; 
        padding: 15px; 
        font-size: 16px; 
        font-weight: bold; 
        text-align: center; 
        position: relative; 
        letter-spacing: 1px;
        z-index: 10; 
    }

    /* åˆ·æ–°æŒ‰é’®ï¼šåŒæ­¥èƒ¶å›Šå½¢çŠ¶ */
    .top-icon { 
        position: absolute; 
        right: 15px; 
        top: 14px; 
        font-size: 12px; 
        font-weight: normal; 
        cursor: pointer; 
        background: rgba(255,255,255,0.2); /* åŠé€æ˜ */
        padding: 4px 12px; 
        border-radius: 10px; /* èƒ¶å›Šåœ†è§’ */
        border: 1px solid rgba(255,255,255,0.5);
        transition: 0.2s;
    }
    .top-icon:hover { background: #fff; color: #c58f5c; }

    /* === åˆ—è¡¨å®¹å™¨ === */
    .list-container { flex: 1; overflow-y: auto; }

    /* === å•ä¸ªå¸–å­é¡¹ï¼šè™šçº¿åˆ†å‰² === */
    .thread-item { 
        padding: 18px; 
        border-bottom: 1px dashed #e0d0c0; /* æŸ”å’Œè™šçº¿ */
        background: #fefaf6; 
        cursor: pointer; 
        transition: background 0.1s; 
    }
    .thread-item:active { background: #fdf6ec; }
    .thread-item:last-child { border-bottom: none; }

    .item-top { display: flex; align-items: flex-start; margin-bottom: 6px; }

    /* === æ ‡ç­¾ï¼šä¿ç•™åŸç‰ˆæ ·å¼ === */
    .tag { 
        font-size: 10px; 
        padding: 1px 4px; 
        border-radius: 3px; /* ä¿æŒåŸæ¥çš„å°åœ†è§’ */
        margin-right: 6px; 
        position: relative; 
        top: 2px; 
        flex-shrink: 0; 
    }
    /* ä¿æŒåŸç‰ˆçš„ç©ºå¿ƒè¾¹æ¡†é£æ ¼ */
    .tag-top { border: 1px solid #e25c5c; color: #e25c5c; background: transparent; }
    .tag-hot { border: 1px solid #c58f5c; color: #c58f5c; background: transparent; }
    /* å‡å¸–æ ‡ç­¾ä¿æŒåŸæ · */
    .tag-fake { background: #eee; color: #999; border: 1px solid #ccc; }

    /* === æ ‡é¢˜ä¸ä¿¡æ¯ === */
    .item-title { 
        font-size: 15px; 
        color: #4a3c2e; 
        line-height: 1.5; 
        font-weight: bold; 
    }
    .item-meta { 
        display: flex; 
        justify-content: space-between; 
        font-size: 12px; 
        color: #bcaaa4; 
        margin-top: 8px; 
    }
    .meta-right { color: #c58f5c; font-weight: bold; }

    /* === åº•éƒ¨èœå•ï¼šåœ†æ¶¦é£æ ¼ === */
    .bottom-menu { 
        height: 55px; 
        background: #fffcf8; 
        border-top: 1px dashed #e6d6bf; /* è™šçº¿é¡¶è¾¹ */
        display: flex; 
        justify-content: space-around; 
        align-items: center; 
        font-size: 12px; 
        color: #8c7c6d; 
    }
    .menu-item { 
        text-align: center; 
        width: 100%; 
        padding: 10px 0; 
        cursor: pointer; 
        transition: 0.2s;
    }
    .menu-item span.icon {
        display: block;
        font-size: 18px;
        margin-bottom: 2px;
    }
    .menu-item.active { 
        color: #c58f5c; 
        font-weight: bold; 
    }
    /* æ¿€æ´»çŠ¶æ€çš„å°åœ†ç‚¹è£…é¥° */
    .menu-item.active::after {
        content: "";
        display: block;
        width: 4px;
        height: 4px;
        background: #c58f5c;
        border-radius: 50%;
        margin: 2px auto 0;
    }

        /* === è·‘é©¬ç¯å®¹å™¨ === */
    .marquee-wrapper {
        background: #f1d67e; /* æš–é»„ä¾¿ç­¾çº¸è‰²ï¼Œé…åˆä½ çš„ä¸»é¢˜ */
        color: #a05d2c;      /* ç„¦ç³–è‰²æ–‡å­— */
        font-family: "Courier New", monospace; /* å¤å¤æ‰“å°æœºå­—ä½“ */
        font-size: 12px;
        padding: 6px 0;
        border-bottom: 2px dashed #e6d6bf; /* è™šçº¿åˆ†å‰² */
        overflow: hidden;    /* å¿…é¡»ï¼šéšè—è¶…å‡ºéƒ¨åˆ† */
        white-space: nowrap; /* å¿…é¡»ï¼šå¼ºåˆ¶ä¸æ¢è¡Œ */
    }

    /* === è·‘é©¬ç¯å†…å®¹åŠ¨ç”» === */
    .marquee-content {
        display: inline-block;
        padding-left: 100%;  /* ä»æœ€å³è¾¹å¼€å§‹ */
        animation: marquee 15s linear infinite; /* 15ç§’å¾ªç¯ä¸€æ¬¡ */
    }

    /* === åŠ¨ç”»å…³é”®å¸§ (å¿…é¡»åŠ è¿™ä¸ªï¼Œä¸ç„¶ä¸åŠ¨) === */
    @keyframes marquee {
        0% { transform: translateX(0); }
        100% { transform: translateX(-100%); }
    }


          /* === ğŸ“± æ‰‹æœºç«¯ä¸“å±ä¼˜åŒ–ï¼ˆæœ€ç»ˆä¿®æ­£ç‰ˆï¼‰ === */
    @media screen and (max-width: 480px) {
        .phone {
            /* å·¦å³ç•™å‡ºç¼éš™ï¼Œéœ²å‡ºèƒŒæ™¯ç‚¹ç‚¹ */
            width: 94%; 
            margin: 10px auto; 
            border-radius: 16px;
            min-height: calc(100vh - 20px);
        }

        /* --- å…³é”®ä¿®å¤ï¼šç»Ÿä¸€å†…éƒ¨è¾¹è·ï¼Œè§£å†³å¯¹ä¸é½çš„é—®é¢˜ --- */
        
        /* 1. è®©æ ‡é¢˜ã€æ•°æ®æ ã€å¸–å­å†…å®¹çš„å·¦å³è¾¹è·ä¿æŒä¸€è‡´ */
        .thread-title, .meta, .toolbar, .post {
            /* åŸæ¥æ˜¯18pxï¼Œæ‰‹æœºä¸Šæ”¹å°ä¸€ç‚¹ï¼Œçœç©ºé—´ï¼Œä¸”å¿…é¡»ç»Ÿä¸€ */
            padding-left: 14px !important; 
            padding-right: 14px !important;
        }
        
        /* 2. ä¸“é—¨ä¿®å¤é¡¶éƒ¨æ ï¼Œé˜²æ­¢æ ‡é¢˜å¤ªé•¿é¡¶åˆ°è¾¹ç¼˜ */
        .topbar {
            padding-left: 10px;
            padding-right: 10px;
        }
        
        /* 3. è°ƒæ•´è¿”å›æŒ‰é’®çš„ä½ç½®ï¼Œè®©å®ƒä¸è¦çœ‹èµ·æ¥æ­ªæ­ªæ‰­æ‰­ */
        .back-home {
            left: 10px; /* ç¨å¾®é å·¦ä¸€ç‚¹ */
            top: 15px;
        }

        /* 4. ç»å¯¹ä¸è¦ç»™ content å•ç‹¬åŠ å·¦å³ paddingï¼Œå¦åˆ™å°±ä¼šç¼©è¿›å¯¹ä¸é½ï¼ */
        .content {
            font-size: 15px; /* å­—ä½“å¤§å°åˆé€‚å³å¯ */
            /* è¿™é‡Œä¸éœ€è¦ padding-left/right */
        }
    }


</style>

</head>
<body>

<div class="phone">
    <div class="topbar">ğŸŠç ‚ç³–æ©˜ä¸‡äº‹å±‹ğŸŠ <span class="top-icon" onclick="location.reload()">â†» åˆ·æ–°</span></div>
    <div class="marquee-wrapper">
        <div class="marquee-content">
           *** ğŸŠæ¬¢è¿æ¥åˆ°ç ‚ç³–æ©˜ä¸‡äº‹å±‹ğŸŠ *** ğŸŠä¸‡äº‹å¤§å‰ğŸŠ *** ğŸŠè¯·ä»”ç»†é˜…è¯»ç‰ˆè§„å“¦ğŸŠ ***
        </div>
    </div>
    <div class="list-container" id="threadList"><div class="empty-tip">æ­£åœ¨è¯»å–...</div></div>
    <div class="bottom-menu">
        <div class="menu-item active">
            <span class="icon">ğŸ </span>å¹¿åœº
        </div>
        <div class="menu-item" onclick="alert('ä½ è¿˜æ²¡ç™»å½•')">
            <span class="icon">ğŸ“®</span>æ¶ˆæ¯
        </div>
        <div class="menu-item" onclick="alert('è¯·å…ˆæ³¨å†Œå±…æ°‘è¯')">
            <span class="icon">ğŸ‘¤</span>æˆ‘çš„
        </div>
    </div>
</div>

<script>
const listContainer = document.getElementById('threadList');

// è¾…åŠ©å‡½æ•°ï¼šç”Ÿæˆéšæœºæ•´æ•°
function getRandomInt(min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; }

function renderList() {
    listContainer.innerHTML = "";
    let config = window.forumConfig || {};
    const ids = Object.keys(config);
    
    if (ids.length === 0) {
        listContainer.innerHTML = '<div class="empty-tip">æš‚æ—¶æ²¡æœ‰å¸–å­å“¦</div>';
        return;
    }

    ids.forEach((id, index) => {
        const item = config[id];
        const div = document.createElement('div');
        div.className = 'thread-item';
        
        // === æ ¸å¿ƒæ”¹åŠ¨ï¼šæ™ºèƒ½è·å–å›å¤æ•° ===
        let replyCount;
        
        if (item.replyCount !== undefined) {
            // æƒ…å†µAï¼šconfig é‡Œå†™äº†æ•°å­—ï¼ˆçœŸå¸–å­ï¼‰ï¼Œç›´æ¥ç”¨
            replyCount = item.replyCount;
        } else {
            // æƒ…å†µBï¼šconfig é‡Œæ²¡å†™ï¼ˆå‡å¸–å­ï¼‰ï¼Œéšæœºç”Ÿæˆä¸€ä¸ª 5~600 çš„æ•°
            replyCount = getRandomInt(5, 600);
        }
        
        // === æ ‡ç­¾é€»è¾‘ (Tag Logic) ===
        let tagHtml = "";
        
        // 1. ç¬¬ä¸€ä¸ªå¸–å­æ°¸è¿œç½®é¡¶
        if (index === 0) {
            tagHtml = '<span class="tag tag-top">ç½®é¡¶</span>';
        } 
        // 2. å›å¤è¶…è¿‡ 50 (æ— è®ºæ˜¯çœŸçš„è¿˜æ˜¯éšæœºç”Ÿæˆçš„) æ˜¾ç¤ºçƒ­å¸–
        else if (replyCount > 50) {
            tagHtml = '<span class="tag tag-hot">çƒ­å¸–</span>';
        } 
        // 3. ç¬¬äºŒä¸ªå¸–å­æ˜¾ç¤ºæ–°
        else if (index === 1) {
            tagHtml = '<span class="tag tag-new">æ–°</span>';
        }

        // === ç‚¹å‡»ä¸å›¾æ ‡é€»è¾‘ ===
        let iconHtml = "";

        if (item.isFake) {
            // å‡å¸–å­ï¼šä¸å¯ç‚¹ï¼Œä½†æ˜¾ç¤ºéšæœºç”Ÿæˆçš„æ•°å­—ï¼ˆå¦‚æœä½ æƒ³æ˜¾ç¤ºé”å¤´ï¼ŒæŠŠä¸‹é¢è¿™è¡Œæ”¹æˆ iconHtml = "ğŸ”’";ï¼‰
            div.style.cursor = "default";
            div.onclick = null; 
            // è¿™é‡Œä½ å¯ä»¥é€‰æ‹©ï¼š
            // é€‰é¡¹1ï¼šæ˜¾ç¤ºéšæœºæ•°å­— (çœ‹èµ·æ¥åƒçœŸçš„ä¸€æ ·)
            iconHtml = "ğŸ’¬ " + replyCount; 
            // é€‰é¡¹2ï¼šæ˜¾ç¤ºé”å¤´ (æ˜ç¡®å‘Šè¯‰åˆ«äººä¸èƒ½ç‚¹)
            // iconHtml = "ğŸ”’"; 
        } else {
            // çœŸå¸–å­ï¼šå¯ç‚¹ï¼Œæ˜¾ç¤ºçœŸå®çš„æ•°å­—
            div.style.cursor = "pointer";
            div.onclick = function() {
                window.location.href = `index.html?id=${id}`;
            };
            iconHtml = "ğŸ’¬ " + replyCount;
        }

        // æ¸²æŸ“ HTML
        div.innerHTML = `
            <div class="item-top">
                ${tagHtml}
                <div class="item-title">${item.title}</div>
            </div>
            <div class="item-meta">
                <div class="meta-left"><span>ğŸ‘¤ ${item.opName}</span></div>
                <div class="meta-right">${iconHtml}</div>
            </div>
        `;
        listContainer.appendChild(div);
    });
    
    // åº•éƒ¨æç¤º
    const loadMore = document.createElement('div');
    loadMore.style.textAlign = 'center';
    loadMore.style.padding = '20px';
    loadMore.style.color = '#b3a79b';
    loadMore.style.fontSize = '12px';
    loadMore.innerText = '- ç³Ÿç³•ï¼Œåˆ·æ–°ä¸å‡ºæ¥äº†ï¼ -';
    listContainer.appendChild(loadMore);
}
renderList();
</script>

</body>
</html>
